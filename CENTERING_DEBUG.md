# –¢–µ—Å—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤—ñ–¥–æ–º–ª—è—î, —â–æ –∫–æ–ª–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ 2 —Ä—è–¥–∫–∏, –∞–ª–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è 1 —Å–ª–æ–≤–æ, –≤–æ–Ω–æ –Ω–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É.

## –¢–µ—Å—Ç–æ–≤—ñ –≤–∏–ø–∞–¥–∫–∏

### –í–∏–ø–∞–¥–æ–∫ 1: max_lines=2, num_lines=1
```python
fontsize = 93
max_lines_setting = 2
num_lines = 1
y_pos = 1500  # –ë–∞–∑–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è –∑–Ω–∏–∑—É

# –ü–æ—Ç–æ—á–Ω–∞ –ª–æ–≥—ñ–∫–∞:
max_height = (max_lines_setting - 1) * (fontsize * 1.2)
# max_height = (2 - 1) * (93 * 1.2) = 1 * 111.6 = 111.6

actual_height = (num_lines - 1) * (fontsize * 1.2)
# actual_height = (1 - 1) * (93 * 1.2) = 0

total_shift = (max_height - actual_height) / 2
# total_shift = (111.6 - 0) / 2 = 55.8

current_y = int(y_pos - total_shift)
# current_y = 1500 - 55.8 = 1444

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:
# –Ø–∫—â–æ max_lines=2:
#   - –†—è–¥–æ–∫ 1 –º–∞—î –±—É—Ç–∏ –Ω–∞: y_pos - (fontsize * 1.2) = 1500 - 111.6 = 1388
#   - –†—è–¥–æ–∫ 2 –º–∞—î –±—É—Ç–∏ –Ω–∞: y_pos = 1500
# 
# –°–µ—Ä–µ–¥–∏–Ω–∞ –º—ñ–∂ –Ω–∏–º–∏: (1388 + 1500) / 2 = 1444 ‚úÖ
```

### –í–∏–ø–∞–¥–æ–∫ 2: max_lines=3, num_lines=1
```python
max_height = (3 - 1) * (93 * 1.2) = 2 * 111.6 = 223.2
actual_height = 0
total_shift = 223.2 / 2 = 111.6
current_y = 1500 - 111.6 = 1388

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:
# –Ø–∫—â–æ max_lines=3:
#   - –†—è–¥–æ–∫ 1: y_pos - 2*111.6 = 1500 - 223.2 = 1277
#   - –†—è–¥–æ–∫ 2: y_pos - 111.6 = 1388
#   - –†—è–¥–æ–∫ 3: y_pos = 1500
#
# –°–µ—Ä–µ–¥–∏–Ω–∞: (1277 + 1500) / 2 = 1388.5 ‚úÖ
```

## –í–∏—Å–Ω–æ–≤–æ–∫

–õ–æ–≥—ñ–∫–∞ **–ü–†–ê–í–ò–õ–¨–ù–ê**! –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ –±—É—Ç–∏ –≤:

1. **–ó–º—ñ–Ω–∏ –Ω–µ –∑–∞–¥–µ–ø–ª–æ—î–Ω—ñ –Ω–∞ Railway**
2. **–Ü–Ω—à–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—î –ø–æ–∑–∏—Ü—ñ—é**
3. **–ó–Ω–∞—á–µ–Ω–Ω—è `max_lines` –Ω–µ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ**

## –î–µ–±–∞–≥

–î–∞–≤–∞–π—Ç–µ –¥–æ–¥–∞–º–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

```python
log.info(f"üîç DEBUG Centering:")
log.info(f"  num_lines: {num_lines}")
log.info(f"  max_lines_setting: {max_lines_setting}")
log.info(f"  y_pos (base): {y_pos}")
log.info(f"  max_height: {max_height}")
log.info(f"  actual_height: {actual_height}")
log.info(f"  total_shift: {total_shift}")
log.info(f"  current_y (final): {current_y}")
```
