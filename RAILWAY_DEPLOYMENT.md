# –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Railway

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –°–µ–∫—Ä–µ—Ç—ñ–≤

–î–ª—è —Ä–æ–±–æ—Ç–∏ –±–æ—Ç–∞ –Ω–∞ Railway –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–≤–∞ —Å–µ–∫—Ä–µ—Ç–∏:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ Railway
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **"Variables"** –∞–±–æ **"Environment Variables"**
3. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ —Å–µ–∫—Ä–µ—Ç–∏:

```
TELEGRAM_BOT_TOKEN=your_bot_token_from_BotFather
GROQ_API_KEY=your_groq_api_key
```

## –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

–ë–æ—Ç –∑–±–µ—Ä—ñ–≥–∞—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É —Ñ–∞–π–ª—ñ `user_settings.json`. 

### ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ –¥–ª—è Railway:

Railway –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–µ—Ñ–µ–º–µ—Ä–Ω—É —Ñ–∞–π–ª–æ–≤—É —Å–∏—Å—Ç–µ–º—É**, —â–æ –æ–∑–Ω–∞—á–∞—î:
- –§–∞–π–ª–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω—ñ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç—ñ —Å–µ—Ä–≤—ñ—Å—É
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –º–æ–∂—É—Ç—å –≤—Ç—Ä–∞—Ç–∏—Ç–∏—Å—è

### –†—ñ—à–µ–Ω–Ω—è 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Volumes (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

Railway –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø–æ—Å—Ç—ñ–π–Ω—ñ —Ç–æ–º–∏ (volumes) –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:

1. –í –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –ø—Ä–æ–µ–∫—Ç—É Railway –¥–æ–¥–∞–π—Ç–µ **Volume**
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ mount point: `/app/data`
3. –ó–º—ñ–Ω—ñ—Ç—å `SETTINGS_FILE` —É `bot.py`:
   ```python
   SETTINGS_FILE = "/app/data/user_settings.json"
   ```

### –†—ñ—à–µ–Ω–Ω—è 2: –ë–∞–∑–∞ –î–∞–Ω–∏—Ö (–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É)

–î–ª—è –±—ñ–ª—å—à —Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏:
- **Railway PostgreSQL** (–ø–ª–∞—Ç–Ω–∏–π addon)
- **SQLite** –∑ volume mount
- **Redis** –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

## –û–±–º–µ–∂–µ–Ω–Ω—è –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ü–ª–∞–Ω—É Railway

Railway –º–∞—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É:

- **‚è± –ß–∞—Å —Ä–æ–±–æ—Ç–∏**: –û–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω –Ω–∞ –º—ñ—Å—è—Ü—å
- **üíæ –ü–∞–º'—è—Ç—å**: –û–±–º–µ–∂–µ–Ω–Ω—è RAM (–∑–∞–∑–≤–∏—á–∞–π 512MB - 1GB)
- **üìä –¢—Ä–∞—Ñ—ñ–∫**: –û–±–º–µ–∂–µ–Ω–∏–π –≤–∏—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫
- **üí§ Sleep Mode**: –ú–æ–∂–µ –∑–∞—Å–∏–Ω–∞—Ç–∏ –ø—Ä–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É:

1. **–û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–µ–æ**: –ë–æ—Ç –≤–∂–µ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –∑ `preset=veryfast` —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è–º –ø–æ—Ç–æ–∫—ñ–≤
2. **–ö–æ–º–ø—Ä–µ—Å—ñ—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–º–µ–Ω—à–µ–Ω–Ω—è —Ä–æ–∑–¥—ñ–ª—å–Ω–æ—Å—Ç—ñ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤
3. **–ü–∞–º'—è—Ç—å**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `gc.collect()` –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ

## –û–±–º–µ–∂–µ–Ω–Ω—è –†–æ–∑–º—ñ—Ä—É –§–∞–π–ª—ñ–≤ (50MB)

Telegram Bot API –º–∞—î –∂–æ—Ä—Å—Ç–∫–µ –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ **50MB** –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª—ñ–≤.

### –ü–æ—Ç–æ—á–Ω–µ –†—ñ—à–µ–Ω–Ω—è:

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏
2. –Ø–∫—â–æ > 49MB, –∑–∞–ø—É—Å–∫–∞—î –∫–æ–º–ø—Ä–µ—Å—ñ—é
3. –ó–º–µ–Ω—à—É—î —Ä–æ–∑–¥—ñ–ª—å–Ω—ñ—Å—Ç—å –¥–æ 720p –¥–ª—è –¥—É–∂–µ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î bitrate control –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—ñ–ª—å–æ–≤–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏ (–°–∫–ª–∞–¥–Ω—ñ—à—ñ):

#### 1. Telegram API (–Ω–µ Bot API)
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î —Ñ–∞–π–ª–∏ –¥–æ **2GB**
- ‚ùå –ü–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —á–µ—Ä–µ–∑ Telegram account
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- üìö –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞: `telethon` –∞–±–æ `pyrogram`

#### 2. –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –•–æ—Å—Ç–∏–Ω–≥
- Google Drive API
- Dropbox API
- AWS S3 (–ø–ª–∞—Ç–Ω–∏–π)
- üìù –ù–∞–¥–∞–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å –ø—Ä—è–º–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

#### 3. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ö–æ–º–ø—Ä–µ—Å—ñ—è
- ‚úÖ –í–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –∑–Ω–∏–∑–∏—Ç–∏ —è–∫—ñ—Å—Ç—å (CRF 28-30)
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ VP9 –∞–±–æ AV1 (–ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ, –∞–ª–µ –∫—Ä–∞—â–∞ –∫–æ–º–ø—Ä–µ—Å—ñ—è)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:

–î–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è –Ω–∞–π–∫—Ä–∞—â–µ:
1. ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –∫–æ–º–ø—Ä–µ—Å—ñ—é
2. –ü–æ–ø–µ—Ä–µ–¥–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø—Ä–æ –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ 50MB
3. –†–µ–∫–æ–º–µ–Ω–¥—É–≤–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –∫–æ—Ä–æ—Ç—à—ñ –≤—ñ–¥–µ–æ –∞–±–æ –Ω–∏–∂—á–æ—ó —è–∫–æ—Å—Ç—ñ

## –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –õ–æ–≥–∏

–ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ –Ω–∞ Railway:
```bash
railway logs
```

–ê–±–æ —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Railway –≤ —Ä–æ–∑–¥—ñ–ª—ñ "Deployments" ‚Üí "Logs"

## Troubleshooting

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç—ñ–≤ `TELEGRAM_BOT_TOKEN` —Ç–∞ `GROQ_API_KEY`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è:
1. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Railway Volume –¥–ª—è `/app/data`
2. –ê–±–æ –æ—á—ñ–∫—É–π—Ç–µ –≤—Ç—Ä–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∞—Ö

### –§–∞–π–ª–∏ > 50MB –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è:
1. –¶–µ –æ–±–º–µ–∂–µ–Ω–Ω—è Telegram, –Ω–µ Railway
2. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∏—Å–∫–∞—î —Ñ–∞–π–ª–∏
3. –Ø–∫—â–æ –≤—Å–µ –æ–¥–Ω–æ –Ω–µ –≤–¥–∞—î—Ç—å—Å—è - –≤—ñ–¥–µ–æ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–µ –∞–±–æ –¥–æ–≤–≥–µ

### Out of Memory –ø–æ–º–∏–ª–∫–∏:
1. Railway free tier –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è RAM
2. –ë–æ—Ç –≤–∂–µ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó –ø–∞–º'—è—Ç—ñ
3. –ú–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –ø–ª–∞—Ç–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –¥—É–∂–µ –≤–µ–ª–∏–∫–∏—Ö –≤—ñ–¥–µ–æ
